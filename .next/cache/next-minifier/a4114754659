{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"27a4\"],{\"+kik\":function(e,t,n){\"use strict\";n.r(t);var a=n(\"zrwo\"),r=(n(\"tL+A\"),n(\"QpBz\")),o=n.n(r),l=n(\"pLtp\"),i=n.n(l),c=n(\"0iUn\"),u=n(\"sLSF\"),s=n(\"MI3g\"),f=n(\"a7VT\"),p=n(\"AT/M\"),d=n(\"Tit0\"),h=n(\"vYYK\"),m=n(\"q1tI\"),b=n.n(m),y=n(\"/MKj\"),v=n(\"iDuD\"),g=n(\"ErRJ\"),O=n(\"RwXc\"),C=function(e){function t(e){var n;return Object(c.default)(this,t),n=Object(s.default)(this,Object(f.default)(t).call(this,e)),Object(h.a)(Object(p.default)(n),\"createRuleData\",function(e){return e?0===i()(e.data).length?null:e.data.map(function(e){return{roleID:e.brole,user:e.user,business:e.business,permission:e.permission,role:e.broleunfold.name}}):null}),Object(h.a)(Object(p.default)(n),\"createEmployeeData\",function(e){return 0===i()(e).length?null:e.map(function(e){return{value:e.userID,name:\"\".concat(e.firstName,\" \").concat(e.LastName)}})}),Object(h.a)(Object(p.default)(n),\"handleChange\",function(e,t,a,r){n.props.updateWebPermission({permission:e},t,a,r).then(function(e){o.a.success(\"Permission changed successfully.\")}).catch(function(e){o.a.error(\"There was an error\"),console.log(e)})}),Object(h.a)(Object(p.default)(n),\"handleValue\",function(e,t){n.setState({formValues:Object(a.a)({},n.state.formValues,Object(h.a)({},t,e))})}),Object(h.a)(Object(p.default)(n),\"onClick\",function(){n.props.businessPermissions(n.state.formValues.employee)}),Object(h.a)(Object(p.default)(n),\"handleFocus\",function(e){switch(e){case\"employee\":n.props.getEmployeeByLid(n.state.formValues.location);break;case\"location\":n.setState({formValues:Object(a.a)({},n.state.formValues,{employee:\"\"})});break;default:console.log(\"Some Error Occured\")}}),n.state={formValues:{employee:\"\"}},n}return Object(d.default)(t,e),Object(u.default)(t,[{key:\"componentDidMount\",value:function(){var e=this.props.business.response.data[0].businessID;this.props.getEmployeeByBusinessId(e).then(function(e){return console.log(e)})}},{key:\"render\",value:function(){return this.props.employeeData.isLoaded?b.a.createElement(v.a,{type:\"web\",rules:this.createRuleData(this.props.permissions.response),onChange:this.handleChange,formData:{handleValue:this.handleValue,value:{employee:this.state.formValues.employee},employee:this.createEmployeeData(this.props.employeeData.response.data),onClick:this.onClick}}):b.a.createElement(O.a,null)}}]),t}(m.Component);t.default=Object(y.b)(function(e){return{business:e.businesses,permissions:e.businessPermissions,employeeData:e.getEmployeeByBusinessId,locationData:e.getLocationByBid}},function(e){return{updateWebPermission:function(t,n,a,r){return e(g.updateWebPermission.action(t,n,a,r))},businessPermissions:function(t){return e(g.businessPermissions.action(t))},getEmployeeByBusinessId:function(t){return e(g.getEmployeeByBusinessId.action(t))}}})(C)},BxHu:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/dashboard/.webPermissions\",function(){var e=n(\"+kik\");return{page:e.default||e}}])},Ctgt:function(e,t,n){\"use strict\";n.r(t);var a=n(\"q1tI\"),r=n.n(a),o=n(\"17x9\"),l=n.n(o),i=n(\"VCL8\");function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=n(\"TSYQ\"),b=function(e){function t(e){var n,a,r;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),a=this,r=f(t).call(this,e),n=!r||\"object\"!=typeof r&&\"function\"!=typeof r?d(a):r,h(d(d(n)),\"handleClick\",function(e){var t=n.state.checked,a=n.props.onClick,r=!t;n.setChecked(r,e),a&&a(r,e)}),h(d(d(n)),\"handleKeyDown\",function(e){37===e.keyCode?n.setChecked(!1,e):39===e.keyCode&&n.setChecked(!0,e)}),h(d(d(n)),\"handleMouseUp\",function(e){var t=n.props.onMouseUp;n.node&&n.node.blur(),t&&t(e)}),h(d(d(n)),\"saveNode\",function(e){n.node=e});var o=!1;return o=\"checked\"in e?!!e.checked:!!e.defaultChecked,n.state={checked:o},n}var n,o,l;return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,a[\"Component\"]),n=t,l=[{key:\"getDerivedStateFromProps\",value:function(e){var t={},n=e.checked;return\"checked\"in e&&(t.checked=!!n),t}}],(o=[{key:\"componentDidMount\",value:function(){var e=this.props,t=e.autoFocus,n=e.disabled;t&&!n&&this.focus()}},{key:\"setChecked\",value:function(e,t){var n=this.props,a=n.disabled,r=n.onChange;a||(\"checked\"in this.props||this.setState({checked:e}),r&&r(e,t))}},{key:\"focus\",value:function(){this.node.focus()}},{key:\"blur\",value:function(){this.node.blur()}},{key:\"render\",value:function(){var e,t=this.props,n=t.className,a=t.prefixCls,o=t.disabled,l=t.loadingIcon,i=t.checkedChildren,s=t.unCheckedChildren,f=u(t,[\"className\",\"prefixCls\",\"disabled\",\"loadingIcon\",\"checkedChildren\",\"unCheckedChildren\"]),p=this.state.checked,d=m((h(e={},n,!!n),h(e,a,!0),h(e,\"\".concat(a,\"-checked\"),p),h(e,\"\".concat(a,\"-disabled\"),o),e));return r.a.createElement(\"button\",c({},f,{type:\"button\",role:\"switch\",\"aria-checked\":p,disabled:o,className:d,ref:this.saveNode,onKeyDown:this.handleKeyDown,onClick:this.handleClick,onMouseUp:this.handleMouseUp}),l,r.a.createElement(\"span\",{className:\"\".concat(a,\"-inner\")},p?i:s))}}])&&s(n.prototype,o),l&&s(n,l),t}();b.propTypes={className:l.a.string,prefixCls:l.a.string,disabled:l.a.bool,checkedChildren:l.a.any,unCheckedChildren:l.a.any,onChange:l.a.func,onMouseUp:l.a.func,onClick:l.a.func,tabIndex:l.a.number,checked:l.a.bool,defaultChecked:l.a.bool,autoFocus:l.a.bool,loadingIcon:l.a.node},b.defaultProps={prefixCls:\"rc-switch\",checkedChildren:null,unCheckedChildren:null,className:\"\",defaultChecked:!1},Object(i.polyfill)(b),t.default=b},LGkk:function(e,t,n){\"use strict\";n(\"VEUW\"),n(\"35vW\")},RwXc:function(e,t,n){\"use strict\";n(\"nT0F\");var a=n(\"MM9K\"),r=n.n(a),o=n(\"vYYK\"),l=n(\"q1tI\"),i=n.n(l);t.a=function(){var e={loaderContainer:{height:\"100%\",width:\"100%\"},loader:Object(o.a)({position:\"absolute\",left:\"50%\",top:\"50%\",transform:\"translateX(-50%)\"},\"transform\",\"translateY(-50%)\")};return i.a.createElement(\"div\",{style:e.loaderContainer},i.a.createElement(r.a,{style:e.loader,size:\"large\",tip:\"Loading...\"}))}},XIdC:function(e,t,n){e.exports=n(\"Ctgt\")},iDuD:function(e,t,n){\"use strict\";var a=n(\"q1tI\"),r=n.n(a),o=(n(\"hr7U\"),n(\"9xET\")),l=n.n(o),i=(n(\"LGkk\"),n(\"rVaU\")),c=n.n(i),u=(n(\"fv9D\"),n(\"ZPTe\")),s=n.n(u),f={container:{paddingBottom:\"6px\"},switchContainer:{textAlign:\"right\"}},p=function(e){return r.a.createElement(\"div\",{style:f.container},r.a.createElement(l.a,{gutter:4,type:\"flex\"},r.a.createElement(s.a,{span:14},r.a.createElement(\"h3\",null,e.role.charAt(0).toUpperCase()+e.role.slice(1))),r.a.createElement(s.a,{span:10},r.a.createElement(\"div\",{style:f.switchContainer},r.a.createElement(c.a,{defaultChecked:e.defaultChecked,onChange:e.onChange})))))},d=n(\"0iUn\"),h=n(\"sLSF\"),m=n(\"MI3g\"),b=n(\"a7VT\"),y=n(\"Tit0\"),v=n(\"f+nQ\"),g=(n(\"ek7I\"),n(\"FAat\")),O=n.n(g),C=O.a.Option,k=function(e){return r.a.createElement(\"div\",null,r.a.createElement(\"label\",null,e.label),r.a.createElement(O.a,{showArrow:!0,allowClear:!0,style:e.style,placeholder:e.placeholder,optionFilterProp:\"children\",onChange:e.handleChange,onFocus:e.handleFocus,onBlur:e.handleBlur,filterOption:e.filterOptions,value:e.value},e.optionArray?e.optionArray.map(function(e,t){return r.a.createElement(C,{value:e.value},e.name)}):r.a.createElement(C,{value:\"noData\",disabled:!0},\"No Data Found\")))};k.defaultProps={optionArrray:[],placeholder:\"Select One\",style:{width:\"100%\"}};var j=k,w=function(e){function t(){return Object(d.default)(this,t),Object(m.default)(this,Object(b.default)(t).apply(this,arguments))}return Object(y.default)(t,e),Object(h.default)(t,[{key:\"render\",value:function(){var e=this;return r.a.createElement(l.a,{type:\"flex\",gutter:4},r.a.createElement(s.a,{span:10},r.a.createElement(j,{label:\"Location\",optionArray:this.props.formData.location,handleFocus:function(t){return e.props.formData.handleFocus(\"location\")},handleChange:function(t){return e.props.formData.handleValue(t,\"location\")},value:this.props.formData.value.location})),r.a.createElement(s.a,{span:10},r.a.createElement(j,{label:\"Employee\",optionArray:this.props.formData.employee,handleFocus:function(t){return e.props.formData.handleFocus(\"employee\")},handleChange:function(t){return e.props.formData.handleValue(t,\"employee\")},value:this.props.formData.value.employee})),r.a.createElement(s.a,{span:4},r.a.createElement(v.a,{value:\"Submit\",style:{position:\"absolute\",bottom:\"0\",width:\"100%\"},onClick:this.props.formData.onClick})))}}]),t}(a.Component),E=function(e){function t(){return Object(d.default)(this,t),Object(m.default)(this,Object(b.default)(t).apply(this,arguments))}return Object(y.default)(t,e),Object(h.default)(t,[{key:\"render\",value:function(){var e=this;return r.a.createElement(l.a,{type:\"flex\",gutter:4},r.a.createElement(s.a,{span:10},r.a.createElement(j,{label:\"Employee\",optionArray:this.props.formData.employee,value:this.props.formData.value.employee,handleChange:function(t){return e.props.formData.handleValue(t,\"employee\")}})),r.a.createElement(s.a,{span:4},r.a.createElement(v.a,{value:\"Submit\",style:{position:\"absolute\",bottom:\"0\",width:\"100%\"},onClick:this.props.formData.onClick})))}}]),t}(a.Component),D={container:{padding:\"20px 180px\"}};t.a=function(e){return r.a.createElement(\"div\",null,\"app\"===e.type?r.a.createElement(w,{formData:e.formData}):r.a.createElement(E,{formData:e.formData}),r.a.createElement(\"div\",{style:D.container},console.log(\"rule\",e.rule),e.rules?r.a.createElement(\"div\",null,console.log(e.rule),e.rules.map(function(t){return r.a.createElement(p,{role:t.role,defaultChecked:t.permission,onChange:\"app\"===e.type?function(n){return e.onChange(n,t.roleID,t.user,t.location)}:function(n){return e.onChange(n,t.roleID,t.user,t.business)}})})):null))}},rVaU:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var a=p(n(\"q1tI\")),r=p(n(\"17x9\")),o=f(n(\"XIdC\")),l=f(n(\"TSYQ\")),i=f(n(\"BGR+\")),c=f(n(\"ev5A\")),u=f(n(\"Pbn2\")),s=n(\"vgIT\");function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}function d(e){return(d=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function y(e,t){return!t||\"object\"!==d(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),(e=y(this,v(t).apply(this,arguments))).saveSwitch=function(t){e.rcSwitch=t},e.renderSwitch=function(t){var n,r=t.getPrefixCls,s=e.props,f=s.prefixCls,p=s.size,d=s.loading,b=s.className,y=void 0===b?\"\":b,v=s.disabled,g=r(\"switch\",f),O=(0,l.default)(y,(m(n={},\"\".concat(g,\"-small\"),\"small\"===p),m(n,\"\".concat(g,\"-loading\"),d),n)),C=d?a.createElement(u.default,{type:\"loading\",className:\"\".concat(g,\"-loading-icon\")}):null;return a.createElement(c.default,{insertExtraNode:!0},a.createElement(o.default,h({},(0,i.default)(e.props,[\"loading\"]),{prefixCls:g,className:O,disabled:v||d,ref:e.saveSwitch,loadingIcon:C})))},e}var n,r,f;return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,a.Component),n=t,(r=[{key:\"focus\",value:function(){this.rcSwitch.focus()}},{key:\"blur\",value:function(){this.rcSwitch.blur()}},{key:\"render\",value:function(){return a.createElement(s.ConfigConsumer,null,this.renderSwitch)}}])&&b(n.prototype,r),f&&b(n,f),t}();t.default=O,O.__ANT_SWITCH=!0,O.propTypes={prefixCls:r.string,size:r.oneOf([\"small\",\"default\",\"large\"]),className:r.string}}},[[\"BxHu\",\"5d41\",\"9da1\",\"ad9d\"]]]);"}